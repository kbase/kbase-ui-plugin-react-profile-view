(window["webpackJsonpant-design-profile"]=window["webpackJsonpant-design-profile"]||[]).push([[0],{366:function(e,t,r){e.exports=r.p+"static/media/nouserpic.9af42ba9.png"},370:function(e,t,r){e.exports=r(753)},375:function(e,t,r){},736:function(e,t,r){},753:function(e,t,r){"use strict";r.r(t);var a=r(1),n=r.n(a),o=r(10),i=r.n(o),s=(r(375),r(376),r(144)),c=r(46),u=r(90),l=r(130),p=r(343),f=r(67);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function h(e,t){var r=t.payload;switch(t.type){case"LOAD_NARRATIVES":return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{narrativeState:r});default:return e}}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e,t){var r=t.payload;switch(t.type){case"LOAD_PROFILE":return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{profileView:r});default:return e}}var v=function(e,t){return Object(f.baseReducer)(e,t)};function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function y(e,t){var r=t.payload;switch(t.type){case"LOAD_ORGS":return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e,{orgState:r});default:return e}}var O=function(e,t){var r=v(e,t);if(!e)return e;if(r)return r;switch(t.type){case"LOAD_NARRATIVES":return h(e,t);case"LOAD_PROFILE":return b(e,t);case"LOAD_ORGS":return y(e,t);default:return e}};function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function j(){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(r,!0).forEach((function(t){Object(u.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(f.makeBaseStoreState)(),{narrativeState:{narrativeList:[],loading:!0},profileView:{userName:{name:"",userID:""},profileData:{organization:"",department:"",city:"",state:"",postalCode:"",country:"",affiliations:[],researchStatement:"",jobTitle:"",jobTitleOther:"",researchInterests:[],fundingSource:"",gravatarDefault:"",avatarOption:""},gravatarHash:"",profileloaded:!1},orgState:{orgList:[],loading:!0}})}r(736);var E=r(178),k=r(179),D=r(181),x=r(180),S=r(182),P=(r(333),r(91)),A=r(27),I=r.n(A),L=r(57);function T(e,t){return _.apply(this,arguments)}function _(){return(_=Object(L.a)(I.a.mark((function e(t,r){var a,n,o,i,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r+"/services/service_wizard",n={id:0,method:"ServiceWizard.get_service_status",version:"1.1",params:[{module_name:"bff",version:null}]},o=JSON.stringify(n),e.next=5,fetch(a,{method:"POST",mode:"cors",headers:{Authorization:t},body:o});case 5:return i=e.sent,e.next=8,i.json();case 8:return s=e.sent,e.abrupt("return",s.result[0].url);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t,r){return N.apply(this,arguments)}function N(){return(N=Object(L.a)(I.a.mark((function e(t,r,a){var n,o,i,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(r,a);case 2:return n=e.sent,o=n+"/fetchUserProfile/"+t,e.next=6,fetch(o,{method:"GET"});case 6:if(404!==(i=e.sent).status){e.next=11;break}console.warn("404 response:",i),e.next=14;break;case 11:if(500!==i.status){e.next=14;break}return console.error("500 response:",i),e.abrupt("return");case 14:return e.prev=14,e.next=17,i.json();case 17:return s=e.sent,e.abrupt("return",s);case 21:e.prev=21,e.t0=e.catch(14),console.error("profile fetch failed",i);case 24:case"end":return e.stop()}}),e,null,[[14,21]])})))).apply(this,arguments)}function V(e,t,r){return U.apply(this,arguments)}function U(){return(U=Object(L.a)(I.a.mark((function e(t,r,a){var n,o,i,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={version:"1.1",method:"UserProfile.update_user_profile",params:[{profile:{user:{realname:"Akiyo Marukawa",username:"amarukawa"},userdata:{userdata:a}}}]},o=JSON.stringify(n),i=r+"/services/user_profile/rpc",e.next=5,fetch(i,{method:"POST",mode:"cors",headers:{Authorization:t,"Content-Type":"application/json"},body:o});case 5:if(500!==(s=e.sent).status){e.next=9;break}return console.error("500 response:",s),e.abrupt("return");case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t,r){return C.apply(this,arguments)}function C(){return(C=Object(L.a)(I.a.mark((function e(t,r,a){var n,o,i,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(r,a);case 2:return n=e.sent,o=n+"/narrative_list/"+t,e.next=6,fetch(o,{method:"GET",headers:{Authorization:r}});case 6:if(500!==(i=e.sent).status){e.next=10;break}return console.error("Fetch Narratives 500 response:",i),e.abrupt("return");case 10:return e.prev=10,e.next=13,i.json();case 13:return s=e.sent,e.abrupt("return",s);case 17:e.prev=17,e.t0=e.catch(10),console.error("fetch narratives failed",i);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})))).apply(this,arguments)}function R(e,t,r){return M.apply(this,arguments)}function M(){return(M=Object(L.a)(I.a.mark((function e(t,r,a){var n,o,i,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(r,a);case 2:return n=e.sent,o=n+"/org_list/"+t,e.next=6,fetch(o,{method:"GET",headers:{Authorization:r}});case 6:if(500!==(i=e.sent).status){e.next=10;break}return console.error("500 response:",i),e.abrupt("return");case 10:return e.prev=10,e.next=13,i.json();case 13:return s=e.sent,e.abrupt("return",s);case 17:e.prev=17,e.t0=e.catch(10),console.error("fetch org failed",i);case 20:case"end":return e.stop()}}),e,null,[[10,17]])})))).apply(this,arguments)}function F(){return(F=Object(L.a)(I.a.mark((function e(t,r,a){var n,o,i,s,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={version:"1.1",method:"UserProfile.filter_users",params:[{filter:t}]},o=JSON.stringify(n),i=a+"/services/user_profile/rpc",e.next=5,fetch(i,{method:"POST",mode:"cors",headers:{Authorization:r,"Content-Type":"application/json"},body:o});case 5:if(500!==(s=e.sent).status){e.next=9;break}return console.error("500 response:",s),e.abrupt("return");case 9:return e.prev=9,e.next=12,s.json();case 12:return c=e.sent,e.abrupt("return",c);case 16:e.prev=16,e.t0=e.catch(9),console.error("fetch search users failed",s);case 19:case"end":return e.stop()}}),e,null,[[9,16]])})))).apply(this,arguments)}var G="LOAD_NARRATIVES";var J="LOAD_PROFILE";function B(e){return function(){var t=Object(L.a)(I.a.mark((function t(r,a){var n,o,i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:null!==(n=a()).auth.userAuthorization&&(o=n.auth.userAuthorization.token,i=n.app.config.baseUrl,V(o,i,e));case 2:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}var K="LOAD_ORGS";r(334);var W=r(75),q=(r(335),r(60)),Y=(r(337),r(44)),Q=(r(740),r(42)),X=(r(339),r(70)),Z=r(366),$=r.n(Z);var ee=function(e){console.log(e);var t=e.orgList,r=e.loading;return n.a.createElement(X.a,{className:"card-with-height",loading:r,style:{margin:"8px 0px"},title:"Organizations"},n.a.createElement("ul",{style:{textAlign:"left"}},t.map((function(e,t){return n.a.createElement("li",{key:t},n.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.name))}))))};var te=Object(c.connect)((function(e){return console.log("orgs container",e),{orgList:e.orgState.orgList,loading:e.orgState.loading}}))(ee),re=X.a.Meta,ae=Q.a.TextArea;var ne=function(e){console.log("profile props",e);var t=e.profileData,r=[];return"undefined"!==typeof t.researchInterests&&Array.isArray(t.researchInterests)&&(r=t.researchInterests),!0===e.profileloaded?n.a.createElement(q.a,{style:{padding:16}},n.a.createElement(q.a,{gutter:8},n.a.createElement(Y.a,{span:8},n.a.createElement(X.a,{style:{margin:"8px 0px",textAlign:"center"}},n.a.createElement("img",{style:{maxWidth:"100%",margin:"8px 0px"},alt:"avatar",src:"silhoutte"!==t.avatarOption&&e.gravatarHash?(e.gravatarHash,"https://www.gravatar.com/avatar/"+e.gravatarHash+"?s=300&amp;r=pg&d="+t.gravatarDefault):$.a})),n.a.createElement(X.a,{style:{margin:"8px 0px",textAlign:"left"},title:e.userName.name},n.a.createElement(re,{title:"User ID"}),n.a.createElement(Q.a,{className:"clear-disabled",disabled:!0,defaultValue:e.userName.userID}),n.a.createElement(re,{title:"Position"}),n.a.createElement(Q.a,{className:"clear-disabled",defaultValue:"Other"===t.jobTitle&&"undefined"!==typeof t.jobTitle?t.jobTitleOther:"undefined"!==typeof t.jobTitle?t.jobTitle:""}),n.a.createElement(re,{title:"Department"}),n.a.createElement(Q.a,{className:"clear-disabled",disabled:!0,defaultValue:t.department}),n.a.createElement(re,{title:"Organization"}),n.a.createElement(Q.a,{className:"clear-disabled",disabled:!0,defaultValue:t.organization}),n.a.createElement(re,{title:"Location"}),n.a.createElement(Q.a,{className:"clear-disabled",disabled:!0,defaultValue:t.city}),n.a.createElement(Q.a,{className:"clear-disabled",disabled:!0,defaultValue:t.state}),n.a.createElement(Q.a,{className:"clear-disabled",disabled:!0,defaultValue:t.country}),n.a.createElement(re,{title:"Primary Funding Source"}),n.a.createElement(Q.a,{className:"clear-disabled",disabled:!0,defaultValue:t.fundingSource}))),n.a.createElement(Y.a,{span:16},n.a.createElement(q.a,{gutter:8},n.a.createElement(Y.a,{span:12},n.a.createElement(X.a,{className:"card-with-height",style:{margin:"8px 0px"},title:"Research Interests"},n.a.createElement("ul",{style:{textAlign:"left"}},r.map((function(e){return n.a.createElement("li",{key:e},e)}))))),n.a.createElement(Y.a,{span:12},n.a.createElement(te,null))),n.a.createElement(q.a,null,n.a.createElement(X.a,{style:{margin:"8px 0px"},title:"Research or Personal Statement"},n.a.createElement(ae,{autosize:!0,readOnly:!0,className:"clear-disabled",defaultValue:e.profileData.researchStatement})),n.a.createElement(X.a,{style:{margin:"8px 0px"},title:"Afflications"},n.a.createElement("ul",{style:{textAlign:"left"}},("undefined"!==typeof t.affiliations&&Array.isArray(t.affiliations)?t.affiliations:[{title:"",organization:"",started:"",ended:""}]).map((function(e,t){return n.a.createElement("li",{key:t},e.title," @ ",e.organization,", ",e.started," -"," ",e.ended," ")})))))))):n.a.createElement("div",{style:{textAlign:"center"}},n.a.createElement(W.a,{size:"large"}))};var oe=Object(c.connect)((function(e){var t;return null!==e.auth.userAuthorization&&(t=e.auth.userAuthorization.token),{baseURL:e.app.config.baseUrl,token:t||"",userName:{userID:e.profileView.userName.userID,name:e.profileView.userName.name},editEnable:!1,profileData:{organization:e.profileView.profileData.organization,department:e.profileView.profileData.department,city:e.profileView.profileData.city,state:e.profileView.profileData.state,postalCode:e.profileView.profileData.postalCode,country:e.profileView.profileData.country,affiliations:e.profileView.profileData.affiliations,researchStatement:e.profileView.profileData.researchStatement,jobTitle:e.profileView.profileData.jobTitle,jobTitleOther:e.profileView.profileData.jobTitleOther,researchInterests:e.profileView.profileData.researchInterests,fundingSource:e.profileView.profileData.fundingSource,gravatarDefault:e.profileView.profileData.gravatarDefault,avatarOption:e.profileView.profileData.avatarOption},gravatarHash:e.profileView.gravatarHash,profileloaded:e.profileView.profileloaded}}),(function(e){return{updateProfile:function(t){return e(B(t))}}}))(ne),ie=(r(754),r(171)),se=(r(751),r(170));var ce=function(e){console.log(e);for(var t=[],r=e.loading,a=[{title:"Title",dataIndex:"name",width:350,key:"wsID",render:function(e,t){var r="/narrative/"+t.wsID;return n.a.createElement("a",{href:r,target:"_blank",rel:"noopener noreferrer"},e)},sorter:function(e,t){var r=e.name.toUpperCase(),a=t.name.toUpperCase();return r<a?-1:r>a?1:0}},{title:"Last Saved",dataIndex:"last_saved",width:190,render:function(e,t){var r=function(e){var t=(Date.now()-+new Date(e))/1e6,r=new Date(e).toString(),a=r.slice(4,7)+" "+r.slice(8,10)+" "+r.slice(11,15),n=a+" "+r.slice(16,24);return t>=2628?[n,a]:t<2628&&t>=86.4?[n,(t/86.4).toFixed(0)+" days ago"]:t<86.4&&t>=3.6?[a,(t/3.6).toFixed(0)+" hours ago"]:t<3.6&&t>=.06?[n,(10*t).toFixed(0)+" min ago"]:[n,"less than a min ago"]}(t.last_saved);return n.a.createElement(se.a,{placement:"right",content:r[0]},r[1])},sorter:function(e,t){var r=e.last_saved,a=t.last_saved;return r<a?1:r>a?-1:0}}],o=0;o<e.narratives.length;o+=1){var i=e.narratives[o];if("r"===i.permission||"n"===i.permission)Object.keys(i.users).length,t.push({key:i.wsID,wsID:i.wsID,name:i.name,last_saved:i.last_saved});else{var s=i.narrative_detail,c="";for(var u in i.users)u!==s.creator&&(c=c+u+", ");t.push({key:i.wsID,wsID:i.wsID,name:i.name,last_saved:i.last_saved})}}return n.a.createElement(ie.a,{style:{width:"85%",margin:"auto"},columns:a,dataSource:t,loading:r})};var ue=Object(c.connect)((function(e){return console.log("narrativeState",e),{narratives:e.narrativeState.narrativeList,loading:e.narrativeState.loading}}))(ce),le=r(112),pe=(r(341),r(49)),fe=pe.a.Option,de=function(e){function t(e){var r;return Object(E.a)(this,t),(r=Object(D.a)(this,Object(x.a)(t).call(this,e))).state={data:[],mouseLeave:!1},r.onChangeHandler=r.onChangeHandler.bind(Object(le.a)(r)),r.onSearchHandler=r.onSearchHandler.bind(Object(le.a)(r)),r.onMouseLeaveHandler=r.onMouseLeaveHandler.bind(Object(le.a)(r)),r.onMouseEnterHandler=r.onMouseEnterHandler.bind(Object(le.a)(r)),r}return Object(S.a)(t,e),Object(k.a)(t,[{key:"onSearchHandler",value:function(e){var t=this;e.length>2&&!0!==this.state.mouseLeave&&function(e,t,r){return F.apply(this,arguments)}(e,this.props.token,this.props.baseURL).then((function(e){"undefined"!==typeof e?t.setState({data:e.result[0]}):t.setState({data:[{username:"error",realname:"Something went wrong. Try again later."}]})}))}},{key:"onMouseLeaveHandler",value:function(){this.setState({mouseLeave:!0})}},{key:"onMouseEnterHandler",value:function(){this.setState({mouseLeave:!1})}},{key:"onChangeHandler",value:function(e){if("error"!==e&&"undefined"!==typeof e){var t="/#user/"+e;window.open(t,"_blank")}}},{key:"render",value:function(){var e=this.state.data;return n.a.createElement(pe.a,{mode:"single",style:{width:250},allowClear:!0,showSearch:!0,placeholder:"enter more than 3 characters",showArrow:!1,onSearch:this.onSearchHandler,onChange:this.onChangeHandler,onMouseLeave:this.onMouseLeaveHandler,onMouseEnter:this.onMouseEnterHandler,optionFilterProp:"children",filterOption:function(e,t){return!0}},e.map((function(e){return n.a.createElement(fe,{key:e.username},e.realname," (",e.username,")")})))}}]),t}(n.a.Component);var he=Object(c.connect)((function(e){return e}))((function(e){return n.a.createElement(de,{token:e.auth.userAuthorization.token,baseURL:e.app.config.baseUrl})})),me=P.a.TabPane,be=function(e){function t(e){var r;return Object(E.a)(this,t),(r=Object(D.a)(this,Object(x.a)(t).call(this,e))).searchOnATab=n.a.createElement("div",{className:"search-on-a-tab"},"Search other users ",n.a.createElement(he,null)),r.state={userName:{name:"",userID:""},editEnable:!1,narrativesLoaded:!1,organizations:[],organizationsLoaded:!1,gravatarHash:""},r}return Object(S.a)(t,e),Object(k.a)(t,[{key:"componentDidMount",value:function(){var e;this.props.username?(e=this.props.username,this.props.setTitle("User Profile for "+e)):(e=this.props.authUsername,this.props.setTitle("Your User Profile"),this.setState({editEnable:!0})),this.props.loadProfile(e),this.props.loadOrgs(e),"undefined"!==typeof this.props.username&&"undefined"!==typeof this.props.authUsername?this.props.username===this.props.authUsername||null===this.props.username?this.props.loadNarratives("mine",this.props.authUsername):this.props.loadNarratives("they",this.props.username):console.error("How did this even happened? Check error message from Kbase-UI.")}},{key:"componentDidUpdate",value:function(e,t){this.state}},{key:"render",value:function(){return n.a.createElement("div",{className:"profile-tabs"},n.a.createElement(P.a,{type:"line",defaultActiveKey:"1"},n.a.createElement(me,{tab:"Profile",key:"1"},n.a.createElement(oe,null)),n.a.createElement(me,{tab:"Narratives",key:"3"},n.a.createElement(ue,null)),n.a.createElement(me,{disabled:!0,tab:this.searchOnATab,key:"8"})))}}]),t}(n.a.Component);var ve=Object(c.connect)((function(e,t){var r=e.auth.userAuthorization,a=e.app,n=a.config.baseUrl,o=a.runtime.navigation.params;if(!r)throw new Error("This plugin only operates with authentication; no KBase token in store");var i=o;return{token:r.token,authUsername:r.username,username:i.username||null,baseURL:n}}),(function(e,t){return{loadNarratives:function(t,r){return e(function(e,t){return function(){var r=Object(L.a)(I.a.mark((function r(a,n){var o,i,s,c,u,l,p,f;return I.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(null===(o=n()).auth.userAuthorization){r.next=20;break}i=o.auth.userAuthorization.token,s=o.app.config.baseUrl,r.t0=e,r.next="they"===r.t0?7:"mine"===r.t0?13:"shared"===r.t0?13:"public"===r.t0?13:18;break;case 7:return c=H("public",i,s),u=H("shared",i,s),l=[],p=[],Promise.all([c,u]).then((function(e){"undefined"!==typeof e[0]&&"undefined"!==typeof e[1]?l=e[0].concat(e[1]):"undefined"===typeof e[0]&&"undefined"!==typeof e[1]?(console.error("error occuerred during fetching narratives."),l=e[1]):"undefined"!==typeof e[0]&&"undefined"===typeof e[1]?l=e[0]:(console.error("error occuerred during fetching narratives."),p=[{wsID:"",permission:"",name:"Something went wrong. Please check console for error messages.",last_saved:0,users:{},narrative_detail:{creator:""}}]);for(var r=0;r<l.length;r+=1)l[r].narrative_detail.creator===t&&p.push(l[r]);a({type:G,payload:{narrativeList:p,loading:!1}})})),r.abrupt("break",18);case 13:return r.next=15,H(e,i,s);case 15:return f=r.sent,a("undefined"!==typeof f?{type:G,payload:{narrativeList:f,loading:!1}}:{type:G,payload:{narrativeList:[{wsID:"",permission:"",name:"Something went wrong. Please check console for error messages.",last_saved:0,users:{},narrative_detail:{creator:""}}],loading:!1}}),r.abrupt("break",18);case 18:r.next=21;break;case 20:console.error("I don't think this even should happen, but if it did, I must ask 'what kind of horrible bugs did you you create?'");case 21:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()}(t,r))},setTitle:function(t){return e(Object(f.sendTitle)(t))},updateProfile:function(t){return e(B(t))},loadProfile:function(t){return e(function(e){return function(){var t=Object(L.a)(I.a.mark((function t(r,a){var n,o,i,s,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(n=a()).auth.userAuthorization){t.next=9;break}return o=n.auth.userAuthorization.token,i=n.app.config.baseUrl,t.next=6,z(e,o,i);case 6:"undefined"!==typeof(c=t.sent)?(c.user.username!==n.auth.userAuthorization.username&&r(Object(f.sendTitle)("User Profile for "+c.user.realname)),s={userName:{userID:c.user.username,name:c.user.realname},profileData:{organization:c.profile.userdata.organization,department:c.profile.userdata.department,city:c.profile.userdata.city,state:c.profile.userdata.state,postalCode:c.profile.userdata.postalCode,country:c.profile.userdata.country,affiliations:c.profile.userdata.affiliations,researchStatement:c.profile.userdata.researchStatement,jobTitle:c.profile.userdata.jobTitle,jobTitleOther:c.profile.userdata.jobTitleOther,researchInterests:c.profile.userdata.researchInterests,fundingSource:c.profile.userdata.fundingSource,gravatarDefault:c.profile.userdata.gravatarDefault,avatarOption:c.profile.userdata.avatarOption},gravatarHash:c.profile.synced.gravatarHash,profileloaded:!0}):s={userName:{name:"Something went wrong. Please check console for error messages..",userID:""}},r({type:J,payload:s});case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))},loadOrgs:function(t){return e(function(e){return function(){var t=Object(L.a)(I.a.mark((function t(r,a){var n,o,i,s;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a(),o=[],null===n.auth.userAuthorization){t.next=8;break}return i=n.auth.userAuthorization.token,t.next=6,R(e,i,n.app.config.baseUrl);case 6:"undefined"!==typeof(s=t.sent)?s.forEach((function(e){o.push({name:e.name,url:n.app.config.baseUrl+"/#org/"+e.id})})):o=[{name:"Something went wrong during fetching organizations. Check console for errors.",url:""}];case 8:r({type:K,payload:{orgList:o,loading:!1}});case 9:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()}(t))}}}))(be),ge=s.a.Content,ye=Object(l.d)(O,j(),Object(l.c)(Object(l.a)(p.a))),Oe=function(){return n.a.createElement(c.Provider,{store:ye},n.a.createElement(f.AppBase,null,n.a.createElement(f.AuthGate,{required:!0},n.a.createElement("div",{className:"App"},n.a.createElement(s.a,{style:{minHeight:"100vh"}},n.a.createElement(ge,{style:{backgroundColor:"white"}},n.a.createElement(ve,null)))))))};i.a.render(n.a.createElement(Oe,null),document.getElementById("root"))}},[[370,1,2]]]);
//# sourceMappingURL=main.e6936308.chunk.js.map